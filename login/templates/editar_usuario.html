{% extends "body.html" %}



{% block content %}
<form method="post" class="needs-validation" novalidate>
    {% csrf_token %}
    <div class="row">
        <div class="col-md-6 mb-3">
            <label for="id_username" class="form-label fw-bold">Nombre de usuario <span class="text-danger">*</span></label>
            {{ form.username }}
            {% if form.username.errors %}
                <div class="invalid-feedback d-block">{{ form.username.errors }}</div>
            {% endif %}
        </div>
        
        <div class="col-md-6 mb-3">
            <label for="id_email" class="form-label fw-bold">Email <span class="text-danger">*</span></label>
            {{ form.email }}
            {% if form.email.errors %}
                <div class="invalid-feedback d-block">{{ form.email.errors }}</div>
            {% endif %}
        </div>
    </div>
    
    <div class="row">
        <div class="col-md-6 mb-3">
            <label for="id_nombre" class="form-label fw-bold">Nombre</label>
            {{ form.nombre }}
            {% if form.nombre.errors %}
                <div class="invalid-feedback d-block">{{ form.nombre.errors }}</div>
            {% endif %}
        </div>
        
        <div class="col-md-6 mb-3">
            <label for="id_apellido" class="form-label fw-bold">Apellido</label>
            {{ form.apellido }}
            {% if form.apellido.errors %}
                <div class="invalid-feedback d-block">{{ form.apellido.errors }}</div>
            {% endif %}
        </div>
    </div>
    
    <div class="mb-4">
        <div class="form-check form-switch">
            {{ form.is_active }}
            <label class="form-check-label" for="id_is_active">
                Usuario activo
            </label>
        </div>
        <small class="form-text text-muted">{{ form.is_active.help_text }}</small>
    </div>
    
    <div class="mb-4">
        <label class="form-label fw-bold">Grupos de usuario</label>
        <div class="bg-light p-3 rounded border">
            {% for checkbox in form.grupos %}
            <div class="form-check">
                {{ checkbox }}
            </div>
            {% endfor %}
        </div>
        {% if form.grupos.errors %}
            <div class="invalid-feedback d-block">{{ form.grupos.errors }}</div>
        {% endif %}
    </div>
    
    <div class="d-flex gap-2 mt-4">
        <button type="submit" class="btn btn-primary">Guardar cambios</button>
        <a href="{% url 'lista_usuarios' %}" class="btn btn-outline-secondary">Cancelar</a>
    </div>
</form>
</div>
</div>

<!-- Sección para cambiar contraseña -->
<div class="card shadow-lg border-0 rounded-lg mt-4">
<div class="card-header bg-light py-3">
<h3 class="h5 mb-0">Cambiar contraseña</h3>
</div>
<div class="card-body p-4">
<p>Para cambiar la contraseña de este usuario, haga clic en el siguiente botón:</p>
<a href="{% url 'admin_password_change' object.id %}" class="btn btn-warning">
    <i class="fas fa-key me-1"></i> Cambiar contraseña
</a>
</div>
</div>
</div>
</div>
    
{% endblock content %}
    